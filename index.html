<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Happy Birthday!</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      text-align: center;
      padding: 30px;
      background: linear-gradient(135deg, #ffd6e8, #d6eaff);
    }
    .card {
      background: white;
      padding: 30px;
      border-radius: 20px;
      max-width: 500px;
      margin: auto;
      box-shadow: 0 4px 15px rgba(0,0,0,0.15);
    }
    h1 { color: #ff4b9f; }
    .msg { font-size: 18px; margin-top: 15px; }

    /* Hiá»‡u á»©ng mÆ°á»£t xuáº¥t hiá»‡n chá»¯ */
    .smooth-word {
      opacity: 0;
      transition: opacity 0.25s ease-in;
    }
    .smooth-word.show {
      opacity: 1;
    }
  </style>
</head>
<body>

<!-- Start Screen -->
<div id="start-screen" style="
  position: fixed; top:0; left:0; width:100%; height:100%;
  background: linear-gradient(135deg, #ffd6e8, #d6eaff);
  display:flex; flex-direction:column; align-items:center;
  justify-content:center; z-index:9999; text-align:center;">
  
  <h1 style="font-size:32px; color:#ff4b9f; margin-bottom:20px;">
    ğŸ‰ ChÃºc má»«ng sinh nháº­t nha chá»‹ ğŸ‰
  </h1>
  
  <button class="start-btn" onclick="startApp()" style="
    padding:14px 24px; border-radius:12px; border:none;
    background:#ff4b9f; color:white; font-size:18px; cursor:pointer;">
    Báº®T Äáº¦U
  </button>
</div>

<div class="card">

  <!-- Audio -->
  <audio id="bgm" src="music.mp3" autoplay loop muted></audio>

  <button onclick="toggleSound()" style="
      padding:10px 20px; border-radius:10px; border:none;
      background:#ff4b9f; color:white; cursor:pointer; margin-bottom:15px;">
      ğŸ”Š Táº¯t Ã¢m thanh
  </button>

  <script>
    const audio = document.getElementById('bgm');
    let soundOn = true;

    function toggleSound() {
      soundOn = !soundOn;
      audio.muted = !soundOn;
      event.target.innerText = soundOn ? "ğŸ”Š Táº¯t Ã¢m thanh" : "ğŸ”ˆ Báº­t Ã¢m thanh";
    }

    function startApp() {
      audio.muted = false;
      audio.play().catch(()=>{});
      document.getElementById('start-screen').style.display = 'none';
      startTypingAfterStart();
    }
  </script>

  <h1>ğŸ‰ Happy Birthday ğŸ‰</h1>
  <h2 id="name">DÆ°Æ¡ng Thá»‹ Kiá»u Trang</h2>
  <p class="msg">ChÃºc chá»‹ má»™t ngÃ y tháº­t vui váº», trÃ n Ä‘áº§y báº¥t ngá» vÃ  háº¡nh phÃºc! ğŸ‚ğŸ’–</p>
  <p class="msg">á» xa nÃªn em hong cÃ³ quÃ  gi Ä‘Æ°á»£c, Ä‘á»£i em 8 thÃ¡ng ná»¯a nheğŸ’–</p>

  <div style="margin-top:20px;">
    <img src="gif.gif" alt="Cute Birthday GIF" 
      style="width:100%; max-width:400px; border-radius:15px; margin-top:20px;" />
  </div>
</div>

<!-- EFFECT: CONFETTI -->
<canvas id="confetti" style="
  position:fixed; top:0; left:0; width:100%; height:100%;
  pointer-events:none;"></canvas>

<script>
const canvas = document.getElementById('confetti');
const ctx = canvas.getContext('2d');
canvas.width = window.innerWidth;
canvas.height = window.innerHeight;

let particles = [];
for (let i = 0; i < 150; i++) {
  particles.push({
    x: Math.random()*canvas.width,
    y: Math.random()*canvas.height - canvas.height,
    size: Math.random()*6 + 4,
    speed: Math.random()*3 + 1,
    color: `hsl(${Math.random()*360}, 100%, 60%)`
  });
}

function draw() {
  ctx.clearRect(0,0,canvas.width,canvas.height);
  particles.forEach(p => {
    ctx.fillStyle = p.color;
    ctx.fillRect(p.x, p.y, p.size, p.size);
    p.y += p.speed;
    if (p.y > canvas.height) p.y = -10;
  });
  requestAnimationFrame(draw);
}
draw();
</script>

<!-- Hiá»‡u á»©ng gÃµ chá»¯ tá»«ng tá»« mÆ°á»£t hÆ¡n -->
<script>
function typeWriterWords(id, speed = 180, delay = 0, callback = null) {
  const el = document.getElementById(id);
  const text = el.getAttribute("data-text");
  const words = text.split(" ");
  el.innerHTML = "";
  el.style.visibility = "visible";

  let i = 0;

  function writeWord() {
    if (i < words.length) {
      const span = document.createElement("span");
      span.className = "smooth-word";
      span.textContent = (i === 0 ? words[i] : " " + words[i]);
      el.appendChild(span);

      // cho hiá»‡u á»©ng fade-in
      setTimeout(() => span.classList.add("show"), 20);

      i++;
      setTimeout(writeWord, speed);
    } else if (callback) {
      setTimeout(callback, 500);
    }
  }

  setTimeout(writeWord, delay);
}

function startTypingAfterStart() {
  typeWriterWords("letter1", 160, 0, () => {
    typeWriterWords("letter2", 160, 0, () => {
      typeWriterWords("letter3", 160);
    });
  });
}
</script>

<div style="
  max-width:600px; margin:40px auto; background:white;
  padding:20px; border-radius:20px; box-shadow:0 4px 15px rgba(0,0,0,0.15);
">
  <h2 style="font-size:24px; font-weight:bold; margin-bottom:10px;">Gá»­i báº¡n má»™t lá»i nháº¯n nhá»â€¦</h2>

<p id="letter1" data-text="ChÃ o chá»‹ nhe=), em KiÃªn Ä‘Ã¢y áº¡. Váº­y lÃ  em vá»›i chá»‹ chÆ¡i chung cÅ©ng Ä‘Æ°á»£c hÆ¡n 3 thÃ¡ng Ã²i, em cáº£m tháº¥y ráº¥t lÃ  vui khi cÃ³ chá»‹ á»Ÿ bÃªn, quan tÃ¢m vÃ  Ä‘á»™ng viÃªn em. Chá»‰ tiáº¿c lÃ  em á»Ÿ xa chá»‹ quÃ¡ nÃªn Ä‘Ã´i lÃºc muá»‘n rá»§ chá»‹ Ä‘i chÆ¡i cÅ©ng hong Ä‘Æ°á»£c ná»¯ağŸ˜­ğŸ˜­ğŸ˜­. ThÃ´i thÃ¬ rÃ¡ng nÄƒm sau Ä‘áº­u Ä‘áº¡i há»c Ä‘á»ƒ á»Ÿ gáº§n chá»‹ hÆ¡n cÅ©ng Ä‘Æ°á»£c=)." style="text-align:left; visibility:hidden;"></p>

<p id="letter2" data-text="ChÃºc chá»‹ cÃ³ má»™t ngÃ y sinh nháº­t vui váº» nheğŸ’–ğŸ’–ğŸ’–. Máº¥y nay cÅ©ng hong ráº£nh nÃªn em lÃ m táº¡m cÃ¡i nÃ y, hÆ¡i sÆ¡ sÃ i mong chá»‹ thÃ´ng cáº£m, nÄƒm sau em bÃ¹ cho=). ChÃºc chá»‹ Trang tuá»•i má»›i trÃ n ngáº­p niá»m vui vÃ  háº¡nh phÃºc áº¡. Mong chá»‹ luÃ´n á»Ÿ bÃªn em Ä‘á»ƒ cÃ²n chÆ¡i chung vá»›i em ná»¯a=)." style="text-align:left; margin-top:12px; visibility:hidden;"></p>

<p id="letter3" data-text="NÃ³i nhá» nÃ¨, em thÃ­ch chá»‹ nhÃ¬u láº¯m a...." style="text-align:left; margin-top:12px; font-style:italic; visibility:hidden;"></p>

</div>

</body>
</html>